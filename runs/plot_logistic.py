#
# import numpy as np
# from matplotlib import pyplot as plt
#
#
# class Logistic:
#
#     def __init__(self, alpha, beta, omega):
#         self._alpha = alpha
#         self._beta = beta
#         self._omega = omega
#
#     def __call__(self, x: np.ndarray):
#         return self._omega / (1 + np.exp(-self._alpha * (x - self._beta)))
#
#
# class DoubleLogistic:
#
#     def __init__(self,
#                  alpha_1,
#                  alpha_2,
#                  beta_1,
#                  beta_2,
#                  omega_1,
#                  omega_2,
#                  ):
#         self._l1 = Logistic(alpha_1, beta_1, omega_1)
#         self._l2 = Logistic(alpha_2, beta_2, omega_2)
#
#     def __call__(self, x: np.ndarray):
#         return self._l1(x) + self._l2(x)
#
#
# if __name__ == '__main__':
#
#     temp1 = [0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055,
#          0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5055, 0.5079, 0.5139,
#          0.5201, 0.5299, 0.5429, 0.5562, 0.5692, 0.5821, 0.5928, 0.6025, 0.6098,
#          0.6156, 0.6214, 0.6245, 0.6251, 0.6257, 0.6263, 0.6270, 0.6250, 0.6229,
#          0.6207, 0.6185, 0.6164, 0.6142, 0.6120, 0.6098, 0.6076, 0.6054, 0.6032,
#          0.6010, 0.5988, 0.5966, 0.5940, 0.5910, 0.5880, 0.5850, 0.5820, 0.5789,
#          0.5759, 0.5729, 0.5698, 0.5666, 0.5633, 0.5601, 0.5556, 0.5510, 0.5463,
#          0.5417, 0.5370, 0.5324, 0.5277, 0.5230, 0.5184, 0.5137, 0.5090, 0.5043,
#          0.4996, 0.4950, 0.4903, 0.4856, 0.4817, 0.4809, 0.4800, 0.4792, 0.4783,
#          0.4775, 0.4767, 0.4758, 0.4750, 0.4741, 0.4733, 0.4724, 0.4716, 0.4707,
#          0.4699, 0.4690, 0.4682, 0.4674, 0.4665, 0.4657, 0.4648, 0.4640, 0.4631,
#          0.4623, 0.4615, 0.4606, 0.4598, 0.4589, 0.4581, 0.4572, 0.4564, 0.4556,
#          0.4547, 0.4539, 0.4530, 0.4522, 0.4514, 0.4505, 0.4497, 0.4488, 0.4480,
#          0.4472, 0.4463, 0.4455, 0.4446, 0.4438, 0.4430, 0.4421, 0.4413, 0.4405,
#          0.4396, 0.4388, 0.4380, 0.4371, 0.4363, 0.4354, 0.4346, 0.4338, 0.4329,
#          0.4321, 0.4313, 0.4305, 0.4296, 0.4288, 0.4280, 0.4271, 0.4263, 0.4255,
#          0.4246, 0.4238, 0.4230, 0.4222, 0.4213, 0.4205, 0.4197, 0.4188, 0.4180,
#          0.4172, 0.4164, 0.4156, 0.4147, 0.4139, 0.4131, 0.4123, 0.4114, 0.4106,
#          0.4098, 0.4090, 0.4082, 0.4073, 0.4065, 0.4057, 0.4049, 0.4041, 0.4032,
#          0.4024, 0.4016, 0.4008, 0.4000, 0.3992, 0.3984, 0.3975, 0.3967, 0.3959,
#          0.3951, 0.3943, 0.3935, 0.3927, 0.3919, 0.3911, 0.3903, 0.3895, 0.3886,
#          0.3878, 0.3870, 0.3862, 0.3854, 0.3846, 0.3838, 0.3830, 0.3822, 0.3814,
#          0.3806, 0.3798, 0.3790, 0.3782, 0.3774, 0.3766, 0.3758, 0.3750, 0.3742,
#          0.3734, 0.3727, 0.3719, 0.3711, 0.3703, 0.3695, 0.3687, 0.3679, 0.3671,
#          0.3663, 0.3655, 0.3648]
#
#     temp2 = [0.2299, 0.2288, 0.2277, 0.2266, 0.2256, 0.2245, 0.2234, 0.2223, 0.2213,
#          0.2202, 0.2192, 0.2181, 0.2171, 0.2160, 0.2150, 0.2139, 0.2129, 0.2119,
#          0.2108, 0.2098, 0.2088, 0.2078, 0.2068, 0.2057, 0.2047, 0.2037, 0.2027,
#          0.2017, 0.2007, 0.1998, 0.1988, 0.1978, 0.1968, 0.1958, 0.1949, 0.1939,
#          0.1929, 0.1920, 0.1910, 0.1901, 0.1891, 0.1882, 0.1872, 0.1863, 0.1854,
#          0.1844, 0.1835, 0.1826, 0.1817, 0.1807, 0.1798, 0.1789, 0.1780, 0.1771,
#          0.1762, 0.1753, 0.1744, 0.1735, 0.1727, 0.1718, 0.1709, 0.1700, 0.1692,
#          0.1683, 0.1675, 0.1667, 0.1659, 0.1650, 0.1642, 0.1649, 0.1662, 0.1675,
#          0.1688, 0.1702, 0.1715, 0.1729, 0.1742, 0.1756, 0.1769, 0.1781, 0.1793,
#          0.1821, 0.1866, 0.1913, 0.1957, 0.1994, 0.2021, 0.2049, 0.2078, 0.2148,
#          0.2231, 0.2312, 0.2390, 0.2465, 0.2541, 0.2626, 0.2701, 0.2817, 0.2977,
#          0.3153, 0.3342, 0.3538, 0.3742, 0.3959, 0.4139, 0.4254, 0.4270, 0.4268,
#          0.4252, 0.4240, 0.4236, 0.4231, 0.4227, 0.4222, 0.4218, 0.4213, 0.4210,
#          0.4210, 0.4210, 0.4210, 0.4212, 0.4214, 0.4216, 0.4218, 0.4220, 0.4222,
#          0.4224, 0.4223, 0.4219, 0.4215, 0.4212, 0.4208, 0.4204, 0.4201, 0.4197,
#          0.4193, 0.4190, 0.4186, 0.4183, 0.4179, 0.4176, 0.4173, 0.4169, 0.4166,
#          0.4163, 0.4160, 0.4156, 0.4153, 0.4150, 0.4146, 0.4143, 0.4140, 0.4137,
#          0.4133, 0.4130, 0.4127, 0.4124, 0.4120, 0.4117, 0.4114, 0.4110, 0.4107,
#          0.4104, 0.4101, 0.4097, 0.4094, 0.4091, 0.4088, 0.4084, 0.4081, 0.4078,
#          0.4075, 0.4071, 0.4068, 0.4065, 0.4062, 0.4058, 0.4055, 0.4052, 0.4048,
#          0.4045, 0.4042, 0.4039, 0.4035, 0.4032, 0.4029, 0.4026, 0.4022, 0.4019,
#          0.4016, 0.4013, 0.4010, 0.4006, 0.4003, 0.4000, 0.3997, 0.3993, 0.3990,
#          0.3987, 0.3984, 0.3980, 0.3977, 0.3974, 0.3971, 0.3967, 0.3964, 0.3961,
#          0.3958, 0.3954, 0.3951, 0.3948, 0.3945, 0.3942, 0.3938, 0.3935, 0.3932,
#          0.3929, 0.3925, 0.3922, 0.3919, 0.3916, 0.3913, 0.3909, 0.3906, 0.3903,
#          0.3900, 0.3897, 0.3893, 0.3890, 0.3887, 0.3884, 0.3880, 0.3877, 0.3874,
#          0.3871, 0.3868, 0.3864, 0.3862, 0.3859, 0.3857, 0.3854, 0.3852, 0.3849,
#          0.3847, 0.3844, 0.3842, 0.3839, 0.3837, 0.3834, 0.3832, 0.3829, 0.3827,
#          0.3824, 0.3822, 0.3819, 0.3817, 0.3814, 0.3812, 0.3809, 0.3807, 0.3804,
#          0.3802, 0.3799, 0.3797, 0.3794, 0.3792, 0.3789, 0.3787, 0.3784, 0.3782,
#          0.3779, 0.3777, 0.3774, 0.3772, 0.3769, 0.3767, 0.3764, 0.3762, 0.3759,
#          0.3757, 0.3755, 0.3752, 0.3750, 0.3747, 0.3745, 0.3742, 0.3740, 0.3737,
#          0.3735, 0.3734, 0.3736, 0.3738, 0.3740, 0.3743, 0.3745, 0.3747, 0.3749,
#          0.3752, 0.3754, 0.3756]
#
#     temp3 = [0.1279, 0.1274, 0.1270, 0.1265, 0.1261, 0.1257, 0.1253, 0.1248, 0.1244,
#          0.1240, 0.1236, 0.1232, 0.1228, 0.1224, 0.1219, 0.1215, 0.1211, 0.1207,
#          0.1203, 0.1199, 0.1195, 0.1191, 0.1187, 0.1183, 0.1179, 0.1175, 0.1171,
#          0.1167, 0.1163, 0.1162, 0.1161, 0.1159, 0.1158, 0.1157, 0.1156, 0.1155,
#          0.1153, 0.1152, 0.1151, 0.1150, 0.1149, 0.1147, 0.1146, 0.1145, 0.1144,
#          0.1143, 0.1141, 0.1140, 0.1145, 0.1151, 0.1158, 0.1164, 0.1170, 0.1177,
#          0.1183, 0.1189, 0.1196, 0.1202, 0.1209, 0.1215, 0.1222, 0.1229, 0.1235,
#          0.1242, 0.1249, 0.1255, 0.1262, 0.1269, 0.1276, 0.1283, 0.1289, 0.1296,
#          0.1303, 0.1310, 0.1317, 0.1324, 0.1331, 0.1339, 0.1346, 0.1354, 0.1368,
#          0.1381, 0.1393, 0.1405, 0.1416, 0.1420, 0.1427, 0.1441, 0.1535, 0.1634,
#          0.1736, 0.1842, 0.1987, 0.2171, 0.2375, 0.2592, 0.2818, 0.3052, 0.3288,
#          0.3528, 0.3783, 0.4073, 0.4350, 0.4628, 0.4750, 0.4821, 0.4839, 0.4726,
#          0.4613, 0.4556, 0.4552, 0.4578, 0.4629, 0.4685, 0.4736, 0.4769, 0.4802,
#          0.4835, 0.4868, 0.4902, 0.4935, 0.4968, 0.5001, 0.5034, 0.5056, 0.5053,
#          0.5049, 0.5046, 0.5043, 0.5040, 0.5037, 0.5034, 0.5031, 0.5028, 0.5025,
#          0.5022, 0.5019, 0.5015, 0.5012, 0.5009, 0.5006, 0.5003, 0.5000, 0.4997,
#          0.4994, 0.4991, 0.4988, 0.4985, 0.4980, 0.4973, 0.4966, 0.4959, 0.4952,
#          0.4946, 0.4939, 0.4932, 0.4925, 0.4918, 0.4911, 0.4904, 0.4889, 0.4862,
#          0.4834, 0.4807, 0.4780, 0.4753, 0.4725, 0.4698, 0.4671, 0.4644, 0.4617,
#          0.4590, 0.4562, 0.4535, 0.4508, 0.4481, 0.4454, 0.4427, 0.4400, 0.4373,
#          0.4347, 0.4320, 0.4293, 0.4266, 0.4240, 0.4213, 0.4186, 0.4160, 0.4133,
#          0.4107, 0.4080, 0.4054, 0.4028, 0.4001, 0.3975, 0.3949, 0.3923, 0.3897,
#          0.3871, 0.3845, 0.3819, 0.3794, 0.3768, 0.3742, 0.3717, 0.3691, 0.3666,
#          0.3646, 0.3646, 0.3646, 0.3646, 0.3647, 0.3647, 0.3647, 0.3647, 0.3648,
#          0.3648, 0.3648, 0.3649, 0.3649, 0.3649, 0.3649, 0.3650, 0.3650, 0.3650,
#          0.3650, 0.3651, 0.3651, 0.3651, 0.3651, 0.3652, 0.3652, 0.3652, 0.3652,
#          0.3653, 0.3653, 0.3653, 0.3653, 0.3654, 0.3654, 0.3654, 0.3654, 0.3655,
#          0.3655, 0.3655, 0.3655, 0.3656, 0.3656, 0.3656, 0.3657, 0.3657, 0.3657,
#          0.3657, 0.3658, 0.3658, 0.3658, 0.3658, 0.3659, 0.3659, 0.3659, 0.3659,
#          0.3660, 0.3660, 0.3660, 0.3660, 0.3661, 0.3661, 0.3661, 0.3661, 0.3662,
#          0.3662, 0.3662, 0.3662, 0.3663, 0.3663, 0.3663, 0.3663, 0.3664, 0.3664,
#          0.3664, 0.3665, 0.3665, 0.3665, 0.3665, 0.3666, 0.3666, 0.3666, 0.3666,
#          0.3667, 0.3667, 0.3667, 0.3667, 0.3668, 0.3668, 0.3668, 0.3668, 0.3669,
#          0.3669, 0.3669, 0.3669]
#
#     temp4 = [0.2678, 0.2669, 0.2660, 0.2651, 0.2642, 0.2632, 0.2623, 0.2614, 0.2605,
#          0.2596, 0.2587, 0.2578, 0.2569, 0.2560, 0.2551, 0.2543, 0.2534, 0.2525,
#          0.2516, 0.2507, 0.2498, 0.2490, 0.2481, 0.2472, 0.2463, 0.2455, 0.2446,
#          0.2437, 0.2429, 0.2420, 0.2411, 0.2403, 0.2394, 0.2386, 0.2377, 0.2369,
#          0.2360, 0.2351, 0.2342, 0.2332, 0.2323, 0.2314, 0.2304, 0.2295, 0.2286,
#          0.2277, 0.2267, 0.2258, 0.2249, 0.2240, 0.2231, 0.2222, 0.2213, 0.2204,
#          0.2195, 0.2186, 0.2177, 0.2168, 0.2159, 0.2150, 0.2141, 0.2132, 0.2123,
#          0.2115, 0.2106, 0.2097, 0.2088, 0.2080, 0.2071, 0.2063, 0.2054, 0.2045,
#          0.2036, 0.2026, 0.2017, 0.2059, 0.2138, 0.2219, 0.2303, 0.2388, 0.2480,
#          0.2575, 0.2673, 0.2776, 0.2884, 0.2995, 0.3109, 0.3225, 0.3343, 0.3465,
#          0.3597, 0.3735, 0.3869, 0.4000, 0.4133, 0.4273, 0.4424, 0.4577, 0.4732,
#          0.4886, 0.5043, 0.5204, 0.5333, 0.5437, 0.5540, 0.5643, 0.5710, 0.5772,
#          0.5834, 0.5870, 0.5885, 0.5902, 0.5918, 0.5935, 0.5950, 0.5962, 0.5972,
#          0.5982, 0.5988, 0.5975, 0.5962, 0.5949, 0.5935, 0.5922, 0.5908, 0.5895,
#          0.5882, 0.5868, 0.5855, 0.5842, 0.5829, 0.5816, 0.5802, 0.5789, 0.5776,
#          0.5763, 0.5750, 0.5736, 0.5723, 0.5710, 0.5697, 0.5683, 0.5670, 0.5657,
#          0.5643, 0.5630, 0.5617, 0.5603, 0.5590, 0.5577, 0.5563, 0.5550, 0.5536,
#          0.5523, 0.5510, 0.5496, 0.5483, 0.5469, 0.5456, 0.5442, 0.5429, 0.5416,
#          0.5402, 0.5389, 0.5375, 0.5362, 0.5348, 0.5335, 0.5321, 0.5308, 0.5294,
#          0.5281, 0.5267, 0.5254, 0.5240, 0.5227, 0.5213, 0.5200, 0.5186, 0.5173,
#          0.5159, 0.5145, 0.5132, 0.5118, 0.5105, 0.5091, 0.5078, 0.5064, 0.5051,
#          0.5037, 0.5024, 0.5010, 0.4996, 0.4983, 0.4969, 0.4956, 0.4942, 0.4929,
#          0.4915, 0.4902, 0.4888, 0.4874, 0.4861, 0.4847, 0.4834, 0.4820, 0.4807,
#          0.4793, 0.4780, 0.4766, 0.4753, 0.4739, 0.4726, 0.4712, 0.4699, 0.4685,
#          0.4672, 0.4658, 0.4645, 0.4631, 0.4618, 0.4604, 0.4591, 0.4577, 0.4564,
#          0.4550, 0.4537, 0.4524, 0.4510, 0.4497, 0.4483, 0.4470, 0.4457, 0.4443,
#          0.4430, 0.4416, 0.4403, 0.4390, 0.4376, 0.4363, 0.4350, 0.4336, 0.4323,
#          0.4310, 0.4296, 0.4283, 0.4270, 0.4257, 0.4243, 0.4230, 0.4217, 0.4204,
#          0.4191, 0.4177, 0.4164, 0.4151, 0.4138, 0.4125, 0.4112, 0.4098, 0.4085,
#          0.4072, 0.4059, 0.4046, 0.4033, 0.4020, 0.4007, 0.3994, 0.3981, 0.3968,
#          0.3955, 0.3942, 0.3929, 0.3916, 0.3903, 0.3890, 0.3878, 0.3865, 0.3852,
#          0.3839, 0.3826, 0.3813, 0.3801, 0.3788, 0.3775, 0.3762, 0.3750, 0.3737,
#          0.3724, 0.3712, 0.3699, 0.3686, 0.3674, 0.3661, 0.3649, 0.3636, 0.3624,
#          0.3611, 0.3599, 0.3586]
#
#     # _alpha_1 = 5
#     # _alpha_2 = 1
#     # _beta_1 = 2
#     # _beta_2 = 14
#     # _omega_1 = 1
#     # _omega_2 = -2
#
#     _alpha_1 = 3
#     _alpha_2 = 3
#     # _beta_1 = 3.5 / 2
#     _beta_1 = 0
#     # _beta_2 = 3.5 * 1.5
#     _beta_2 = 7.2
#     _omega_1 = 1
#     _omega_2 = -1
#
#     _alpha_3 = 5
#     _alpha_4 = 1
#     _beta_3 = 2
#     _beta_4 = 14
#     _omega_3 = 1
#     _omega_4 = -2
#
#     # _alpha_1 = 1
#     # _alpha_2 = 1e-1
#     # _alpha_3 = 1e-1
#     # _beta_1 = 100
#     # _beta_2 = 100
#     # _beta_3 = 100
#     # _omega_1 = 1
#     # _omega_2 = 1
#     # _omega_3 = 1
#
#     # _alpha_1 = 50
#     # _alpha_2 = 1
#     # _alpha_3 = 1
#     # _beta_1 = 1
#     # _beta_2 = 1
#     # _beta_3 = 1
#     # _omega_1 = 1
#     # _omega_2 = 1
#     # _omega_3 = 1
#
#     f = DoubleLogistic(
#         _alpha_1,
#         _alpha_2,
#         _beta_1,
#         _beta_2,
#         _omega_1,
#         _omega_2,
#     )
#
#     f_1 = Logistic(
#         _alpha_1,
#         _beta_1,
#         _omega_1,
#     )
#
#     f_2 = Logistic(
#         _alpha_2,
#         _beta_2,
#         _omega_2,
#     )
#
#     f_3 = Logistic(
#         _alpha_3,
#         _beta_3,
#         _omega_3,
#     )
#
#     f_4 = Logistic(
#         _alpha_4,
#         _beta_4,
#         _omega_4,
#     )
#
#     g = DoubleLogistic(
#         _alpha_3,
#         _alpha_4,
#         _beta_3,
#         _beta_4,
#         _omega_3,
#         _omega_4,
#     )
#
#     # f_3 = Logistic(
#     #     _alpha_3,
#     #     _beta_3,
#     #     _omega_3,
#     # )
#
#     x = np.arange(-10, 20, 0.1)
#     # x = np.arange(0, 2, 0.001)
#     # d = 1e-2
#     # x2 = np.arange(_beta_1 - d, _beta_1 + d, 0.001)
#     # x = np.arange(0, 200, 1)
#
#     from phenology.chill_hours import f_chill_hours
#     from phenology.chilldays import chill_days, anti_chill_days
#     from phenology.utah_model import utah_chill
#
#     fig, ax = plt.subplots(3, figsize=(8, 15))
#
#     ax[0].plot(x, f_1(x), label='s1', c='black')
#     # ax[1].plot(x2, f_1(x2), label='s1', c='black')
#     ax[0].plot(x, f_2(x), '--', label='s1', c='black')
#     # ax[0].plot(x, f_3(x), ':', label='s1', c='black')
#     ax[1].plot(x, f_2(x), label='s2')
#     ax[2].plot(x, f_chill_hours(np.reshape(x, newshape=(-1, 1))), label='chill hours', c='b')
#     ax[2].plot(x, utah_chill(np.reshape(x, newshape=(-1, 1))), label='utah chill', c='g')
#     ax[2].plot(x, f(x), '--', label='diff chill hours', c='b')
#     ax[2].plot(x, g(x), '--', label='diff utah', c='g')
#     # ax[2].plot(x, temp1, label='nn chill', c='r')
#     # ax[2].plot(x, temp2, label='nn chill', c='r')
#     # ax[2].plot(x, temp3, label='nn chill', c='r')
#     # ax[2].plot(x, temp4, label='nn chill', c='r')
#
#     ax[2].set_xlabel('Temperature (°C)')
#     ax[2].set_ylabel('Chill Units')
#
#     ax[0].set_title(f'f({_alpha_1}, {_beta_1}, {_omega_1})')
#     # ax[1].set_title(f'f({_alpha_2}, {_beta_2}, {_omega_2})')
#     ax[2].set_title(f'chill operator')
#
#     ax[0].set_xlabel('unit sum')
#     ax[0].set_ylabel('stage transition')
#
#     # ax[2].legend()
#
#     # plt.show()
#     plt.savefig('temp2.png')
#
#
#
